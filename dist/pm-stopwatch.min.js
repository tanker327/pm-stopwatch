!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("PMStopwatch",[],e):"object"==typeof exports?exports.PMStopwatch=e():t.PMStopwatch=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=n(1),a=r(h),l=Symbol("start_time"),f=Symbol("stop_time"),p=Symbol("running_status"),c=Symbol("history"),v=Symbol("set_history"),m={UNSTARTED:Symbol("unstarted"),RUNNING:Symbol("running"),STOPPED:Symbol("stopped")},y=function(t){function e(){i(this,e);var t=s(this,Object.getPrototypeOf(e).call(this));return t[p]=m.UNSTARTED,t[c]=[],t}return o(e,t),u(e,[{key:"start",value:function(t){if(this.isStopped)throw new Error("Stopwatch must be reset before being restarted.");if(this.isRunning)throw new Error("Stopwatch is running. You cannot start it again.");var n=this[l]=this[f]=Date.now(),r=this[v](t,n,"start");this[p]=m.RUNNING,this.emit(e.Event.START,r)}},{key:"stop",value:function(t){if(!this.isRunning)throw new Error("Stopwatch is not running. You cannot stop it.");var n=this[v](t,Date.now(),"stop");return this[f]=Date.now(),this[p]=m.STOPPED,this.emit(e.Event.STOP,n),this[f]-this[l]}},{key:"reset",value:function(){this[p]=m.UNSTARTED,this[c].length=0,this.emit(e.Event.RESET)}},{key:"lap",value:function(t){if(!this.isRunning)throw new Error("Stopwatch is not running.");var n=this[v](t);return this.emit(e.Event.LAP,n),n.lapTime}},{key:v,value:function(t){var e=arguments.length<=1||void 0===arguments[1]?Date.now():arguments[1],n=arguments.length<=2||void 0===arguments[2]?"lap":arguments[2];if(this.isStopped)throw new Error("The stopwatch is stopped. You can set history");var r={type:n,message:t,timestamp:e,lapTime:e-this[f]};return this[f]=e,this[c].push(r),r}},{key:"getLapHistory",value:function(){return this[c]}},{key:"displayTime",get:function(){return this.isRunning?Date.now()-this.startTime:this.isStopped?this.startTime-this.stopTime:0}},{key:"startTime",get:function(){if(this.isStarted)return this[l];throw new Error("Stopwatch is not running.")}},{key:"stopTime",get:function(){if(this.isStopped)return this[f];throw new Error("Stopwatch is still running or never run.")}},{key:"isStarted",get:function(){return this[p]!==m.UNSTARTED}},{key:"isStopped",get:function(){return this[p]===m.STOPPED}},{key:"isRunning",get:function(){return this[p]===m.RUNNING}}]),e}(a["default"].EventEmitter);e["default"]=y,y.Event={START:Symbol("START"),STOP:Symbol("STOP"),LAP:Symbol("LAP"),RESET:Symbol("RESET")},t.exports=e["default"]},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,u,h,a;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],o(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(s(n))for(u=Array.prototype.slice.call(arguments,1),a=n.slice(),i=a.length,h=0;i>h;h++)a[h].apply(this,u);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(i=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,o,u;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(u=o;u-- >0;)if(n[u]===e||n[u].listener&&n[u].listener===e){i=u;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}}])});
//# sourceMappingURL=pm-stopwatch.min.js.map